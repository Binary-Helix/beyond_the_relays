# Triggers when the game starts
on_game_start = {
	events = {
		game_start.1 # Spawn special/hidden countries
		#game_start.2 # removes random planet modifiers from homeworlds and spawns #terraforming candidates
		#game_start.3 # Hidden Game Start Event that resets tutorial for advisor trigger purposes
		#game_start.5 # Countdown to Nomad Fleet
		#game_start.31 # Create wormhole pairs
		#distar.290 # Spawn Sealed System
		#distar.252 # Phaseshifting Planet
		#distar.295 # Connect Ratling Systems to one another
		#distar.8000 # Randomize L-Cluster outcome
		#colony_mod.100 #titanic life blocker setup
		#game_start.50 # Set up Nebula system art
		#galactic_features.420 # Spawn VLUUR
		clones.1 # Clone Army #origin, fix species before Leaders are generated
		#central.1 # Central Crystal event
		#ancrel.12050 # Surveillance Supercomputer system spawn
	}
	random_events = {
		19 = 0
		1 = akx.8000
	}
}

on_game_start_country = {
	events = {
		game_start.33 # populate system with stations
		game_start.10
		#necroids.4 # flip guaranteed planets to guaranteed primitives for Necrophage
		#clones.2 # Clone Army #origin
		#clones.3 # Clone Army #origin pop creation
		#necroids.255 # Paid of Debt event
		##origin.5605 # Teachers of the Shroud #origin - Shroudwalker's Contact
		##toxoids.7000 # Knights of the Toxic God - Start Quest
		#origin.4005 # Payback Origin
		#origin.5081 # Broken Shackles Blockers
	}
}

# No scope, like on_game_start
# Does not run when loading MP saves due to OOS concerns
on_single_player_save_game_load = {
}

# No scope, like on_game_start
on_monthly_pulse = {
	events = {
		marauder.511 # Great Khan Dies
		#marauder.11 # Marauder infighting - commented out for now
		#crisis.120 # Feral Prethoryn
		#crisis.123 # Feral Prethoryn infighting
		marauder.113
		leviathans.170 #no more energy; Trader Enclave deal canceled
		action.85 # flip planets to starbase owner
		marauder.150 # AI hires Marauder raids
		marauder.151 # AI hires Marauder mercs
		action.92 # make sure the swarm infests
		action.93 # make sure extradimensionals have no planets
		action.90 # rebuild outpost for orphaned colonies
		apoc.301
		#distar.1082
		#distar.5014
		#distar.5001
		#distar.301
		#graygoo.183
		#graygoo.510
		#distar.10955
		action.116 # enable resources for galactic market
		pirate.48
		pirate.4
		crime.1000
		#origin.50
		#origin.30
		galcom.105
		galcom.108
		##galactic_features.365 # Tiyanki Respawning
		enclave.2055 #If Khan dead, merc fleets break contract
		enclave.2065 #Unemployed mercs return to merc station
		fircon.10 #Adds pre-FTL insights
	}
}


# Via pre_ftl_tech_progress_situation / preftl.50
# See also: on_monthly_pulse_pre_ftl_observation_broken_shackles (below)
on_monthly_pulse_pre_ftl_observation = {
	random_events = {
		# Neolithic Observation Events
		100 = fircon.1255		# Tractable and Fertile
		100 = fircon.1260		# Famine!
		100 = fircon.1270		# Cave Paintings
		# Bronze and Iron Age Events
		100 = fircon.1280		# Written in the Stars!
		100 = fircon.1295		# Pictorial Descent!
		100 = fircon.1305		# All Hail Us!
		# Medieval and Renaissance Age Events
		100 = fircon.1325		# Art Finds a Way!
		100 = fircon.1335		# The Journey Begins
		100 = fircon.1355		# Ignorance is Contagious
		# Steam, Industrial, and Machine Events
		100 = fircon.1375		# Industrial Advancement!
		100 = fircon.1405		# Peace and Prosperity!
		100 = fircon.1440		# Conflict! What is it Good For!
		# Atomic and Early Space Age Events
		100 = fircon.1465		# Seeking Spacemen
		25 = fircon.1495		# Propulsion Proponent Proclamation
		# Early Space Age
		5 = preftl.1010			# Early Space Age Robot Uprising
		20 = fircon.2600		# First Interplanetary Flight
		# Non-era related Observation Events
		50 = fircon.2000		# Medical Side-Effects
		50 = fircon.2010		# It's Raining Aliens!
		# Situation Events
		10 = preftl.2000		# Plague Situation
		10 = preftl.2100		# Organic Singularity Situation
		10 = preftl.2166		# New World Order Situation
		# Hive Observation Events
		100 = fircon.2500		# Phagocyted
		100 = fircon.2510		# Ecosystem Takeover
		100 = fircon.2520		# Fires of Industry
		100 = fircon.2530		# Requiem for a Drone
		100 = fircon.2540		# Nascent Collective
		100 = fircon.2550		# The Right to Leave
		# Pre-3.7 Observation Events
		# Non-Era Related Observation Events
		50 = observation.0		# Incoming Asteroid
		50 = observation.1200	# Malfunctioning Implants
		25 = observation.1300	# Aggressive Observation causes ethics change
		5 = observation.1400	# Nuclear War
		# Medieval or Victorian Era Events
		50 = observation.300	# Smuggler Outpost
		# Pre-Industrial Events
		50 = observation.100	# Rogue Scientist
		# # Post-Industrial Events
		50 = observation.1000	# Scientist Abduction
		50 = observation.1100	# Defense Force
		50 = observation.1500	# Research Proposal
		# Atomic and Early Space Age Events
		50 = observation.200	# Shuttle Intercepted
	}
}

# The following are considered valid for "Broken Shackles" empires observing their original civilizations; see also on_monthly_pulse_pre_ftl_observation (above)
# Via pre_ftl_tech_progress_situation / preftl.50
on_monthly_pulse_pre_ftl_observation_broken_shackles = {
	random_events = {
		# "First Contact" Observation events
		100 = fircon.1255		# Tractable and Fertile
		100 = fircon.1280		# Written in the Stars!
		100 = fircon.1325		# Art Finds a Way!
		100 = fircon.1335		# The Journey Begins
		# Pre-3.7 Observation Events
		50 = observation.0		# Incoming Asteroid
		50 = observation.1200	# Malfunctioning Implants
		25 = observation.1300	# Aggressive Observation causes ethics change
		5 = observation.1400	# Nuclear War
		50 = observation.300	# Smuggler Outpost
		50 = observation.100	# Rogue Scientist
		50 = observation.1000	# Scientist Abduction
		50 = observation.1100	# Defense Force
		50 = observation.1500	# Research Proposal
		50 = observation.200	# Shuttle Intercepted
 	}
 }

# No scope, like on_game_start
on_yearly_pulse = {
	events = {
		leviathans.10	# Opinion increase with Enclaves
		#crisis.204
		#crisis.205
		#crisis.208
		#crisis.240		# Prethoryn Army reinforcements
		#crisis.1254
		#crisis.2080
		#crisis.2310
		action.64		# species assimilation
		#crisis.122
		marauder.85		# Marauder mercenary Fleet available for hire (mid-game)
		marauder.100	# Marauder raid
		marauder.160
		marauder.699
		crime.50		# Crime Events
		action.105		# Catch those outside of the Market - now requires you to be part of Galactic Community
		#ancrel.6098
		galcom.1		# Galactic Community
		#origin.25
		##galactic_features.400
		#crisis.5000
		#crisis.5005
		custodian.33	# Independent GDF Reinforcements
		custodian.34	# GDF resurrection if destroyed
		origin.6245		# Fear of the Dark Haven Progress
		awareness.110	# Uncloaked observation outpost awareness gain
		awareness.175	# Branch office on pre-ftl planet awareness gain
	}
}

# No scope, like on_game_start
on_bi_yearly_pulse = {
	events = {
		#crisis.206
		#distar.5060
		cara.960 # Galatron pulse
		enclave.2045 #Khan hires mercenaries
	}
}

# No scope, like on_game_start
on_five_year_pulse = {
	events = {
		#crisis_trigger.1
		colony.3029 #Mirror portal followup event gatekeeper
		#origin.1334
	}
}

# No scope, like on_game_start
on_decade_pulse = {
	events = {
		#galactic_features.362
		utopia.50
		syndaw.10 # machine leader malfunction chance
		syndaw.400 # machine uprising  warning events
		galcom.14 # check if anyone's missing an invite to the Galactic Community
		drones.100	# Ancient Mining Drone Expansion Fleet setup (unclaimed systems)
		drones.120	# Ancient Mining Drone Expansion Fleet setup (claimed systems too)
		drones.200	# triggers a possible Space Crystal Splitter expansion (any system)
		pirate.100 # assorted late-game pirates
		fedev.600	# Federation Joint Operation - Trade League
	}
}

# No scope, like on_game_start
on_mid_game_pulse = {
	events = {
		leviathans.2011 # spawn wraith
		leviathans.20101 # remove too-late wraith discovery
		#distar.2050
		#central.2
		origin.6140 # fotd resolution
		origin.5045 # Broken Shackles - The Cost of Freedom
	}
}

# No scope, like on_game_start
on_late_game_pulse = {
	events = {
	}
}

# this = country
on_monthly_pulse_country = {
	events = {
		tutorial.1337 #Artifact tutorial
		tutorial.2110 #Tutorial: Creating a Mercenary Enclave
		cara.333 #ai checks if it can/wants to play with the caravaneers
		clones.3 #Clone Army #origin pop creation
		#origin.3230 #Adds or Removes Modifier for Progenitor Hive
		#origin.3235 #Warns Progenitor Hive about Modifier
		#origin.3200 #Progenitor Hive leader XP Gain
		action.325 #Eminent Diplomats tradition
		enclave.4239 #Teachers of the Shroud #origin - Shroudwalkers departure
		enclave.4243 #Teachers of the Shroud #origin - Become the #crisis - Warning
		enclave.4244 #Teachers of the Shroud #origin - Become the #crisis - Shroudwalkers departure
		galcom.210 # Monthly Ethics Check for GalCom
		#toxoids.8014 #Check if toxic knights lost their keep
		origin.5048 # Broken Shackles - Diverse Design
		origin.5094 # Broken Shackles - Resolution Proposed
		origin.5104 # Broken Shackles - Resolution Proposed
		origin.5114 # Broken Shackles - Resolution Proposed
		origin.5124 # Broken Shackles - Resolution Proposed
		utopia.2665 # Monthly covenant progress
		utopia.2670 # Covenant Rank 1 check
		utopia.2675 # Covenant Rank 2 check
		utopia.2680 # Covenant Rank 3 check
		utopia.2685 # Covenant Rank 4 check
		enclave.2075 # Find admiralless merc fleets and give them one.
		ancrel.9902 # Archaoetech - Zro deficit ends - enable storm casters
		ancrel.9906 # Archaoetech - Zro deficit starts - disable storm casters
	}
}

# this = country
on_yearly_pulse_country = {
	events = {
		cara.4101 #Caravan neighbor gatekeeper
		anomaly.6793 #Ghost Ship follow-up event for psionic ascension
		#tutorial.44
		specialist.500 # Scholarium Planetary Sensor
		specialist.1100 # Prospectorium Resource Discovery
		leviathans.121 # Trader Enclave Opinion gain for resource deals
		origin.6000 # Fear of the Dark Random Events
		origin.5047 # Broken Shackles - Complimentary Thinking
		origin.5041 # Broken Shackles - Factions Founded
		origin.5011 # Broken Shackles - Homesick Alternate
	}
}

# this = country
on_bi_yearly_pulse_country = {
	events = {
		espionage.2 # Random Spy Network events (targeting default empires)
		preftl_espionage.2 # Random Spy Network events (targeting pre-FTL societies)
	}
}

# this = country
on_five_year_pulse_country = {
	events = {
		action.220
		action.420
		action.620 # pre-FTL diplo events
		action.630 # pre-FTL tech events		
		#origin.5715	# Imperial Vassal - Dissolution event chain
		preftl.10050 # In breach of Equal Standing - get a fine.
		preftl.10150 # In breach of Non-Interference - get a fine.
		preftl.10250 # In breach of Exploitation - get a fine.
		fircon.5050 # Solarpunk trade ending
		origin.4109 # Payback - meeting Broken Shackles
	}
	# See also: on_five_year_random_pulse_country = {}
	random_events = {
		75 = 0
		25 = precursor.301	# Precursor Anomaly found (previously: MTTH 20 years)
		25 = precursor.310	# Private Collector has an artifact (previously: MTTH 20 years)
		25 = precursor.311	# Neighbor offers to sell an artifact (previously: MTTH 20 years)
		25 = precursor.314	# Neighbor gifts an artifact (previously: MTTH 20 years)
	}
}

# this = country, fired via action.220 from on_five_year_pulse_country
on_five_year_random_pulse_country = {
	random_events = {
		100 = federations2.50	# Federation hegemony challenge
		100 = federations2.100	# Federation military challenge
		50 = envoy_events.4		# Respected Envoy to Galactic Community
		25 = envoy_events.5		# Irritating Envoy Must Die
		5 = envoy_events.15		# Galactic Community Wildlife
		25 = envoy_events.1		# Insulting envoy software event
		100 = action.2211		# on_five_year_random_pulse_country_negative_list
		25 = situation.500 		# Gravity Well situation
		5 = fircon.1200			# Jaunting Traveler
		2000 = 0
	}
}

# this = country, fired via action.420
on_five_year_random_pulse_overlord = {
	random_events = {
		200 = 0
		10 = subject.1		# Bulwark/Militarist - Veterans
		10 = subject.50		# Bulwark - Starbase Upgrade
		10 = subject.100	# Bulwark - Occupation
		10 = subject.1001	# Bulwark/Militarist - War Fever
		10 = subject.1050	# Bulwark/Pacifist - War Exhaustion
		10 = subject.1100	# Bulwark - Admirals Bickering
		10 = subject.2001	# Scholarium - Technological Advancement
		10 = subject.2050	# Scholarium - Destructive Research
		10 = subject.2100	# Scholarium - Experiments!
		10 = subject.3001	# Spiritualist - Overlord Tourist Disagreements
		10 = subject.3050	# Spiritualist - Pilgrimages
	}
}

# Why do this, you might ask, and not just use a random_list? Because on_actions check the triggers of the event before they try to fire them and exclude them from the list if they are false, so a list with no 0 weight will always fire an event so long as any of them are able to be fired
# Used in operation_diplomatic_incident. Beware when changing.
# this = country, fired via action.2211 from on_five_year_random_pulse_country
on_five_year_random_pulse_country_negative_list = {
	random_events = {
		10 = envoy_events.1001	# Insulting envoy software event (operation_diplomatic_incident-safe)
		20 = envoy_events.3		# A Contribution to Galactic Comedy
		10 = envoy_events.100	# Scandalous Insult
		20 = envoy_events.7		# Xenophobe Envoy Elopes
		20 = envoy_events.225	# Salacious Affair
		20 = envoy_events.200	# Galcom Lobbying
		10 = envoy_events.205	# Violating Local Norms
		20 = envoy_events.210	# Straying from own Norms
		20 = envoy_events.215	# Substance Abuse
		10 = envoy_events.220	# Offense Taken
		20 = action.2212		# Nothing, done differently because of operation_diplomatic_incident
	}
}

# this = country
on_decade_pulse_country = {
	events = {
		federations.10400	# Fix issues we are in breach of (GalCom)
		action.240			# Misc error checking
		leviathans.560		# Enclave communications spread
		action.632			# Payback - Broken Shackles interactions
	}
	random_events = {
		50 = 0
		50 = origin.4300 # Payback Origin - Out of Warranty event chain
	}
}

on_decade_random_pulse_country_payback_broken_shackles = {
	random_events = {
		70 = 0
		10 = origin.4120	# Sharing Espionage Intel
		10 = origin.4130	# Help on the senate floor
		10 = origin.4140	# Help during the war
	}
}

# this = country
on_mid_game_pulse_country = {
	events = {
	}
}

# this = country
on_late_game_pulse_country = {
	events = {
	}
}

# setup advanced colony. So far it has a pop on the capital and a colony shelter building matching the is_colony trigger
# scope: planet
# from: country
on_initialize_advanced_colony = {
	events = {
		game_start.20	# remove blockers on capital
		game_start.21	# upgrade colony shelter on additional colonies
		game_start.22	# set up additional buildings (mines, farms, power plants)
		game_start.23	# add additional pops
	}
}

on_become_advanced_empire = {
	events = {
		game_start.6
	}
}

# Triggers when pressing begin in the intro window
# This = country to press begin
on_press_begin = {
	events = {
		tutorial.104
		advisor.1
	}
}

# Triggers when trying to open the diplomacy view for countries with custom diplomacy.
# Country scope
# This = target country (player)
# From = source country
on_custom_diplomacy = {
	events = {
		#crisis.30
		#crisis.55
		#crisis.1050
		#crisis.1051
		#crisis.1052
		nomad.30
		leviathans.100 # Trader Enclaves (all)
		leviathans.157 # XuraCorp (refusing comms.)
		leviathans.160 # Riggans (refusing comms.)
		leviathans.163 # Muutagans (refusing comms.)
		leviathans.285 # Artisan Enclave
		leviathans.301 # Artisan Enclave (refusing comms.)
		leviathans.499 # Curator Enclave
		leviathans.597 # Curator Enclave (refusing comms.)
		utopia.3000
		utopia.3010
		#crisis.2300
		#crisis.2403
		marauder.1 # Marauder/Horde (gatekeeper)
		#graygoo.120
		cara.100 # Caravaneer Home Base
		cara.101 # Hostile Caravaneers
		#graygoo.130
		#graygoo.500
		#graygoo.501
		#graygoo.502
		#graygoo.503
		#graygoo.504
		#central.19 # Crystalline Empire
		enclave.200 # Mercenary Enclave
		enclave.300 # Salvager Enclave
		#enclave.400 # Shroudwalker Enclave
	}
}

# Triggered when two empires discover each other
# This = Empire 1
# From = Empire 2
# Fromfromfrom = System where contact occurred
on_first_contact = {
	events = {
		tutorial.59 #Tutorial: First Contact
		leviathans.9 #Leviathans
		##galactic_features.421 #VLUUR
		pirate.155 #Thalassocracy pirates
		first_contact_critters.1000 #Establish comms for most cases
	}
}

# Triggered when a first contact process is finished
# This = first contact scope
# From = other country
on_first_contact_finished = {
	events = {
		tutorial.2004 #First Contact Established (setup)
		origin.6044 #Fear of the Dark
	}
}

# Triggered when an Empire has fleets within another Empire's borders.
# This = receiver
# From = sender
# FromFrom = fleet
# FromFromFrom = system
on_enforce_borders = {
	events = {
	}
}

# Triggers when ground combat starts
# This = planet
# From = country attacking
on_ground_combat_started = {
	events = {
		action.485 # Prevents With Great Power achievement
		awareness.125 # Pre-ftl planet invaded, sets awareness to 100.
		preftl.10156 # Violation of Non-Interference Act by Invasion.
		fircon.5034 #Invading Solarpunks
	}
}

# Triggers country_event for the attacker upon victory
# (Before controller is switched)
# This = country, leader attacker
# From = country, planet owner
# FromFrom = planet
# IDENTITIES: attacker is the side that "IsHostile" to
# the planet controller; e.g. spawned monster armies
# are attackers, but if they win and the player attempts
# to retake the planet, the player is the attacker
on_planet_attackers_win = {
	events = {
		colony.114
		#crisis.201
		#crisis.219
		action.8
		action.14
		colony.158
		##crisis.2400
		action.51
		factions.12
		#crisis.2041
		#crisis.2042
		#crisis.2045
		marauder.503
		marauder.515
		#distar.37
		#distar.81
		#distar.235
		#graygoo.150
		#distar.5077
		##ancrel.2068
		##ancrel.6499
		##ancrel.4064
		colony.9889 #Negative Mass, lost to rebels
	}
}

# Triggers country_event for the attacker upon defeat
# This = country, attack leader
# From = country, planet owner
# FromFrom = planet
on_planet_attackers_lose = {
	events = {
	}
}

# Triggers country_event for the defender upon victory
# Root = country, planet owner
# From = country, attack leader
# FromFrom = planet
on_planet_defenders_win = {
	events = {
		colony.5
		colony.56
		colony.108
		#distar.34
		##ancrel.4057
		preftl.1030		# Pre-FTL Robot Uprising Lost
		colony.9885 #Negative mass, defended against rebels
		fircon.6034		# I'm a (non) believer - pre-FTLs defeat subterraneans
	}
}

# Triggers country_event for the defender upon defeat
# This = country, planet owner
# From = country, attack leader
# FromFrom = planet
on_planet_defenders_lose = {
	events = {
		colony.57
		colony.113
		colony.154
		##ancrel.4063
		#origin.3210
		situation.190 # living snow
		colony.3051
		preftl.1025		# Pre-FTL Robot Uprising Won
		fircon.6036		# I'm a (non) believer - pre-FTLs wiped out by subterraneans
	}
}

# Fires when you first get intel (_low and up) on a new system
# Scope = Country
# From = System
on_system_first_visited = {
	events = {
	}
}

# Triggers event when each country first sends a ship into the system (once per country)
# Scope = Ship
# From = System
# FromFrom = Country
on_entering_system_first_time = {
	events = {
		#graygoo.160
		#graygoo.550
		federations2.20
		#galactic_features.2
		#galactic_features.350
		leviathans.3000
		leviathans.3100
		leviathans.3202
		leviathans.2105
		utopia.2010
		utopia.2012
		utopia.2014
		utopia.2016
		apoc.1
		apoc.3
		apoc.5
		mega.9100
		mega.9110
		mega.9120
		mega.9130
		feda.5
		#galactic_features.500
		aquatics.305 #first sight of Aquatic dragon during first contact
		over.20
		enclave.100 #First Shroud Tunnel Encounter
		#origin.5615 #Teachers of the Shroud #origin - enter Shroudwalker system
		#ancrel.12060 #Surveillance Supercomputer system
		origin.6155 #Fear of the Dark entering hunter system
		origin.4997 #Broken Shackles - Homeworld Found Gatekeeper 1
		origin.4998 #Broken Shackles - Homeworld Found Gatekeeper 2
		origin.4999 #Broken Shackles - Homeworld Found Gatekeeper 3
	}
	random_events = {
		200 = 0
		10 = leader.19
	}
}

# Triggers event when ship enters a system. It's usually better to use on_entering_system_first_time or on_entering_system_fleet
# Scope = Ship
# From = System
# FromFrom = Country
on_entering_system = {
	events = {
	}
	random_events = {
	}
}

# A fleet has entered a system | See also: on_fleet_auto_move_arrival
# Scope = Fleet
# From = System
on_entering_system_fleet = {
	events = {
		action.40
		country.211
		country.1002
		anomaly.3095
		country.204
		country.205
		country.206
		#story.218
		story.220
		story.330
		#story.408
		anomaly.3114
		anomaly.3115
		nomad.3
		nomad.7
		nomad.8
		leviathans.1005
		pirate.10
		leviathans.610
		leviathans.1030
		akx.9200
		akx.9300
		akx.9600
		akx.9610
		#distar.135
		#distar.211
		#distar.5011
		#distar.1002
		#distar.230
		#distar.240
		#distar.242
		#ancrel.4012
		leviathans.999
		leviathans.1001
		country.6
		anomaly.142
		anomaly.143
		anomaly.144
		country.1030
		country.1050
		anomaly.96
		anomaly.106
		country.1102
		anomaly.4036
		#country.254
		leviathans.2061
		#distar.13030
		#graygoo.162
		#ancrel.4024
		#origin.1345
		#origin.1351
		#origin.1390
		#origin.1400
		country.2
		galcom.102 # Tiyanki Entering Sytem
		#galactic_features.425 # VLUUR
		#galactic_features.501 # Amoeba wave
		drones.105 #Mining Drone Expansion Fleet
		drones.125 #Mining Drone Expansion Fleet (Aggressive)
		drones.205 #Crystal Splitters
		akx.9000
		anomaly.6775
		aquatics.180 #Enemy enters system with Dragon
		#toxoids.7310 #Knights enter the Toxic God's system
		#toxoids.7311 #Non knights enter the Toxic God's system
		#toxoids.7312 #Knights enter empty Toxic God's system
		origin.6255 #Fear of the Dark Seperatists attacking hostile fleet
		awareness.100 # Fleet enters a pre-FTL system.
		fircon.5000 #Entering Solarpunk Borders
		fircon.5005 #Entering after Solarpunk has been discovered
		fircon.5015 #Entering actual Solarpunk system
		fircon.5040 #Entering angered Solarpunk System
	}
}

# A fleet executes a move order to exit borders
# Scope = Fleet
# From = #origin System
# FromFrom = Destination System
on_crossing_border = {
	events = {
		cara.1010 # Caravaneer Fleet 1 intro
		cara.2010 # Caravaneer Fleet 2 intro
		cara.3010 # Caravaneer Fleet 3 intro
		cara.1250 # Caravaneer Fleet 1 Re-Deal
		cara.2250 # Caravaneer Fleet 2 Re-Deal
		cara.3250 # Caravaneer Fleet 3 Re-Deal
	}
}

# A ship has surveyed a planet.
# Scope = Ship
# From = Planet
on_survey = {
	events = {
		anomaly.2575 # #terraforming Candidates
		#toxoids.500
		aquatics.5
		advisor.10
		advisor.15
		advisor.25
		country.52
		progress.2
		#galactic_features.300
		#story.307
		anomaly.6660
		anomaly.6661
		anomaly.6662
		action.12 # Primitive planet surveyed
		tutorial.2140
		tutorial.55
		leviathans.2010
		#distar.130
		action.94 # strategic resource discovered
		#distar.256 #Phaseshifting Planet
		##distar.11002 # #distar strategic resource discovered
		#ancrel.2050 #Planetary Mechanocalibrator
		#ancrel.6150
		#ancrel.6151
		#ancrel.9999 # Spawns Archaeology Sites
		##galactic_features.368 # Tiyanki Home System
		##galactic_features.386 # Tiyanki Graveyard System
		origin.6160 #Scanning Hunter Planet
		uplift.6000 # Pre-Sapients Found
		awareness.115	# Uncloaked science ship surveys pre-ftl planet
		fircon.5020 # Surveying Solarpunk Planet
		origin.5000 #Broken Shackles - Encountering Main Pop Homeworld
		origin.5001 #Broken Shackles - 1st Encounter w/Other Pop Homeworld
		origin.5009 #Broken Shackles - 2nd Encounter w/Other Pop Homeworld
	}

	random_events = {
		100 = 0
		# The following feature weight multipliers which allow On the Shoulders of Giants players to catch up. See '@#origin_shoulders_multiplier'.
		6 = precursor.1		# Vultaum Assembly
		6 = precursor.500	# Yuht Empire
		6 = precursor.1000	# First League
		6 = precursor.1500	# Irassian Concordat
		6 = precursor.2000	# Cybrex
		#35 = ancrel.1		# Zroni
		#15 = ancrel.2000	# Grunur/Baol
	}
}

# A country has gained a surveyed status on a planet. Happens after "on_survey" if a science ship surveyed a planet. (Can also happen without a ship through changes in intel levels)
# Root = Planet
# From = Country
# FromFrom = Fleet of the science ship that surveyed it, if any
on_planet_surveyed = {
	events = {
		action.46
		#country.259
		#distar.13050 # strategic resource alert
	}
}

# A country has gained a surveyed status on a planet. Happens after "on_survey" if a science ship surveyed a planet.
# Root = Country
# From = system
# FromFrom = Fleet of the science ship that surveyed it, if any
on_system_survey = {
	events = {
		tutorial.18
		#distar.13060 # first wormhole is in foreign territory - apoc.5 duplicate
		#distar.13070 # first gateway is in foreign territory - apoc.1 duplicate
		#distar.13080 # first l-gate is in foreign territory - apoc.3 duplicate
	}
}

# A ship is done surveying the last unsurveyed planet in a system
# Scope = ship
# From = system
on_system_survey_ship = {
	events = {
		tutorial.2
		tutorial.299
		tutorial.74
		tutorial.170
		#country.251
		#country.252
		#country.253
	}
}

# A planet has begun the colonization process.
# Scope = Planet
on_colonization_started = {
	events = {
		advisor.17
		progress.3
		progress.7
		#distar.300 # Change junkheap planetview image
		mega.110 # Colonization unconsecration
		#origin.3010 #Lithoid #origin deposit/modifier
		#origin.3101 #Remnants colonial goodies
		federations3.120 #Kept Grounds, if Wenkwort Artem has been colonised
		origin.5510 #Broken Shackles - First Colony
	}
	random_events = {
		190 = 0

		#10 = diplomatic.21
	}
}

# A planet has been colonized.
# Scope = Planet
on_colonized = {
	events = {
		#crisis.203
		anomaly.4171
		tutorial.27
		#factions.105 # Colonialists New Colony
		akx.9499
		#distar.5
		#distar.2599
		#distar.1014
		#distar.72
		#distar.73
		#distar.5000
		#distar.262
		tutorial.9000
		#origin.3001 #ToL Tree add
		#origin.84
		clones.5 	#Clone Army (make sure pops don't migrate to die)
		#origin.3225 #Progenitor Hive Missing
		awareness.135 # Planet colonised in pre-ftl system
	}
}

# A colony has been destroyed. Called just before owner and controller is cleared
# Scope = Planet
on_colony_destroyed = {
	events = {
		colony.2002
		#origin.3002 #ToL Tree death
		colony.9895 #Remove 'Sprawling Slums' blockers
	}
}

# This = owner of fleet 1
# From = owner of fleet 2
# FromFrom = fleet 1
# FromFromFrom = fleet 2
on_entering_battle = {
	events = {
		nomad.96
		nomad.98
		nomad.99
		leviathans.155 # Attacked Trader Enclave (any)
		leviathans.350 # Attacked Artisan Enclave
		leviathans.595
		#graygoo.155
		enclave.7200 # Revoke Shroudwalker Teacher planetary decision
		enclave.27
	}
}

# This = owner of ship 1 (destroyed)
# From = owner of ship 2 (combatant)
# FromFrom = ship 1
# FromFromFrom = ship 2
on_ship_destroyed_victim = {
	events = {
		syndaw.30
		mandate.143
		nomad.95
		leviathans.3002
		leviathans.3101
		leviathans.592
		leviathans.140	# Trader Enclave destroyed
		#crisis.1281
		#crisis.1282
		#crisis.217
		#crisis.2070
		#crisis.1012
		#crisis.1115
		#crisis.1215
		marauder.4		# (Any) Marauders destroyed
		marauder.14		# Marauders destroyed after vowing vengeance
		#crisis.80
		marauder.525	# may trigger Horde #crisis
		marauder.505	# Great Khan defeated (1st time)
		marauder.509	# Great Khan defeated (2nd time)
		#graygoo.6
		cara.900		# Tradestation destroyed
		#graygoo.180
		#crisis.251		# Prethoryn Brood-Queen captured
		#crisis.261		# remove Swarm system
		#crisis.1311		# remove Extradimensional system
		#crisis.2601		# remove Contingency system
		#ancrel.11040
		enclave.23		# destroy Mercenary Enclave
		enclave.370		# destroy Salvager Enclave
		enclave.430		# destroy Shroudwalker Enclave
		#origin.3260		# destroy Offspring ships
	}
}

# This = owner of ship 1 (combatant)
# From = owner of ship 2 (destroyed)
# FromFrom = ship 1
# FromFromFrom = ship 2
on_ship_destroyed_perp = {
	events = {
		leviathans.1016
		leviathans.2099
		#crisis.1283
		#crisis.218
		#crisis.2071
		story.222
		achievement.2
		#distar.137
		#distar.212
		#distar.243
		#distar.13020
		##galactic_features.380 # Tiyanki Counter
		#crisis.4025 # #crisis Objective: count ships destroyed
		necroids.300 # Cordyceptic Drones killing space fauna
		necroids.310 # Cordyceptic Drones killing Prethoryn
		#toxoids.7315 # Fate of the Toxic Entity
	}
	random_events = {
	}
}

# This = starbase being destroyed (not ship!)
# From = fleet that destroyed the starbase
on_starbase_destroyed = {
	events = {
		#crisis.4010 # Menace Objective - Destroy Starbases
		#crisis.265
		#crisis.1320
		#crisis.2610
		#crisis.6099
		action.225 # Cleanup
		#distar.1999 # Special Project Gatekeeper for Living Planet event chain
	}
}

# This = starbase being disabled (not ship!)
# From = fleet that disabled the starbase
on_starbase_disabled = {
	events = {
	}
}

# This = owner of ship 1 (destroyed)
# From = owner of ship 2 (combatant)
# FromFrom = ship 1
# FromFromFrom = ship 2
on_ship_disengaged_victim = {
	events = {
	}
}

# This = owner of ship 1 (combatant)
# From = owner of ship 2 (destroyed)
# FromFrom = ship 1
# FromFromFrom = ship 2
on_ship_disengaged_perp = {
	events = {
	}
}

# This = owner of fleet 1 (destroyed)
# From = owner of fleet 2 (combatant)
# FromFrom = fleet 1
# FromFromFrom = fleet 2
on_fleet_destroyed_victim = {
	events = {
		country.16
		country.18
		country.20
		country.220
		#galactic_features.3
		country.1021
		country.1060
		anomaly.3097
		leviathans.351 # Artisan Enclave starbase destroyed
		leviathans.3203
		marauder.51
		#crisis.108
		#crisis.125
		marauder.115
		#origin.52
		##galactic_features.366
		##galactic_features.369
		#galactic_features.422
		#crisis.6152
		drones.130
		cara.945		# Check if Caravaneers are dead.
	}
}

# This = owner of fleet 1 (combatant)
# From = owner of fleet 2 (destroyed)
# FromFrom = fleet 1
# FromFromFrom = fleet 2
on_fleet_destroyed_perp = {
	events = {
		country.9
		country.11
		country.14
		country.215
		country.216
		country.1020
		country.1043
		colony.181
		observation.6
		story.109
		#story.114
		#story.209
		#story.309
		#story.311
		#story.214
		story.216
		story.332
		#story.409
		anomaly.3101
		anomaly.3120
		anomaly.3121
		#galactic_features.360
		#crisis.1111
		#crisis.70
		leviathans.1009
		leviathans.1012
		leviathans.1015
		leviathans.1032
		leviathans.1040
		leviathans.648
		leviathans.655
		leviathans.670
		leviathans.354 # Artisan Enclave Starbase
		leviathans.2014
		leviathans.4
		origin.4149	# Payback | Leviathan slain
		pirate.13
		pirate.24
		akx.9318
		akx.10030
#		factions.330
		factions.10
		#crisis.2472
		#distar.5009
		cara.1002 # Destroyed Caravaneer Fleet 1
		cara.2002 # Destroyed Caravaneer Fleet 2
		cara.3002 # Destroyed Caravaneer Fleet 3
		#ancrel.4120 # Killed Shard (Rubricator Dragon)
		#origin.1030
		aquatics.105 # Killed #origin Dragon
		#toxoids.7515 # Killed Toxic God
		galcom.101 # Killed Tiyanki Inside Borders
		##galactic_features.381 # Tiyanki Counter
		##galactic_features.388 # Tiyanki Graveyard System Destroyed
		federations2.112 # Destroyed training targets in militarist federation challenge
		#ancrel.13000 #Destroyed Polaris fleet
		colony.9820 #Negative Mass defeated fleet
		#ancrel.12065 #Destroyed Surveillance Bot fleet
	}
	random_events = {
		300 = 0
		2 = leader.1
		2 = leader.5
		2 = leader.6
		2 = leader.7
		2 = leader.8
		2 = leader.9
		2 = leader.17
	}
}

# This = owner of fleet 1 (winner)
# From = owner of fleet 2 (loser)
# FromFrom = fleet 1
# FromFromFrom = fleet 2
on_space_battle_won = {
	events = {
		achievement.1
		awareness.105 # Ship disengaged in pre-ftl system.
		origin.4020 #Payback debt collectors chain | won battle against the debt collectors
	}
}

# This = owner of fleet 1 (loser)
# From = owner of fleet 2 (winner)
# FromFrom = fleet 1
# FromFromFrom = fleet 2
on_space_battle_lost = {
	events = {
	}
}

# This = owner of fleet
# From = disbanded fleet
on_fleet_disbanded = {
	events = {
		mandate.3 #removes mandate progress if you disband a related station
	}
}

# This = owner of fleet
# From = fleet
# FromFrom = planet (if any)
on_fleet_auto_move_arrival = {
	events = {
		#distar.5008
		#distar.136
		#distar.210
		#distar.5054
		#distar.1017
		#distar.5061
		drones.106 #Mining Drone Expansion (establish a new mining base)
		drones.126 #Aggressive Mining Drone Expansion (establish a new mining base)
		drones.206 #Space Crystal Splitter (form Shardlings)
	}
}

# This = fleet
# From = country that borrowed the fleet
# FromFrom = country that owns the fleet
# Is fired immediately after fleet is leased out
on_fleet_contract_started = {
}

# This = fleet
# From = country that borrowed the fleet
# FromFrom = country that owns the fleet
# FromFromFrom = country that initiated the ending (the same as owner in a case of expiration)
# Is fired immediately after fleet contract is expired
on_fleet_contract_expired = {
	events = {
		enclave.2058 # Delay before AIs can hire the fleet again
		enclave.2059 # Merc fleet contract expired. Renew?
	}
}

# This = fleet
# From = country that borrowed the fleet
# FromFrom = country that owns the fleet
# FromFromFrom = country that initiated the ending (trade deal actor when the contract cancellation is a part of trade deal)
# Is fired immediately after fleet contract is cancelled (when controller prematurely finishes the contract or when the contract cancellation is a part of trade deal)
on_fleet_contract_cancelled = {
	events = {
		enclave.2058 # Delay before AIs can hire the fleet again
	}
}

# This = fleet
# From = country that borrowed the fleet
# FromFrom = country that owns the fleet
# FromFromFrom = country that initiated the ending (main attacker in a case of war)
# Is fired immediately after fleet contract is broken (when country is attacked by someone of when a war is started)
on_fleet_contract_broken = {
	events = {
		enclave.2058 # Delay before AIs can hire the fleet again
	}	
}

# The game will generate one on_building_X on_action for every station ship-size
# Orbital stations will get the planet in FROM, space stations only get they building ship

# This = construction ship
# From = planet it is built on
# Fires when construction is complete,
# immediately before station is created
on_building_mining_station = {
	events = {
		mandate.110
		tutorial.10
		tutorial.1000
		tutorial.56
		pirate.3
		leviathans.3200
		anomaly.6830 #Mining for Food
		anomaly.6880 #Sleeping Crystal
		anomaly.6885 #Angry Crystal
		awareness.120 # Outpost, mining or research station built in pre-ftl system
	}
}

# This = construction ship
# From = planet it is built on
# Fires when construction is complete,
# immediately before station is created
on_building_research_station = {
	events = {
		mandate.120
		tutorial.12
		tutorial.1200
		tutorial.56
		awareness.120 # Outpost, mining or research station built in pre-ftl system
	}
	random_events = {
		100 = 0
		5 = federations3.2000
	}
}

# This = construction ship
# From = planet it is built on
# Fires when construction is complete,
# immediately before station is created
on_building_outpost_station = {
	events = {
		tutorial.750
		tutorial.56
		mandate.110
		mandate.120
		#factions.220
	}
}

# This = construction ship
# Fires when construction is complete,
# immediately before station is created
on_building_wormhole_station = {
	events = {
	}
}

#This = ship (starbase)
#From = owner country
on_building_starbase_outpost = {
	events = {
		tutorial.76
		#distar.199 # Special Project Gatekeeper for Living Planet event chain
		#distar.254
		#distar.1007
		#distar.2036
		#origin.3505 # Slingshot to the Stars
		origin.5010 #Broken Shackles - First Station
		awareness.120 # Outpost, mining or research station built in pre-ftl system
	}
}

on_building_starbase_fe_outpost = {}

# This = construction ship
# From = planet it is built on
on_building_observation_station = {
	events = {
		fircon.5 #Sets a flag so that we don't iterate through countries unnecessarily
		communications_spread.4 # establish communication with pre-ftl civilization
		awareness.115 # Observation post built in orbit of pre-ftl planet.
		tutorial.2145 # Observation Station Tutorial
		preftl.40	# Sets flag to delay observation event
		preftl.41	# Establish diplo communications if they have max awareness
		fircon.5025 # Built Solar Punk Observation Station
		fircon.25	# Cloak Observation Outpost if owner has Cloaking tech.
		origin.5515 # Broken Shackles - Uplift Main Homeworld Decision
		origin.5520 # Broken Shackles - Uplift Secondary Homeworld Decision
	}
}

on_building_starbase_ai = {
	events = {
		#crisis.2600
	}
}

# This = construction ship
# Fires when construction is complete,
# immediately before station is created

on_building_starbase_exd_0 = {
	events = {
		#crisis.1300
		#crisis.1310
	}
}

on_building_starbase_exd = {
	events = {
	}
}

on_building_starbase_swarm = {
	events = {
		#crisis.260
	}
}

on_building_starbase_marauder = {
	events = {
	}
}

# This = station
# From = planet it was built on
on_destroying_station = {
	events = {
		communications_spread.6 # remove communication with pre-ftl civilization
	}
}
	
# This = station
# From = planet it was built on
on_losing_station_control = {
	events = {
		communications_spread.6 # remove communication with pre-ftl civilization
	}
}

# This = station
# From = planet it was built on
on_gaining_station_control = {
	events = {
		fircon.30 # If Obs station, add communications etc
	}
}

# This = country
# From = opponent war leader
on_entering_war = {
	events = {
	}
}

# This = Country
# From = Fleet
on_fleet_detected = {
	events = {
	}
}

# This = Ship
# From = Disabler Ship
on_ship_disabled = {
	events = {
		country.201
		country.212
		country.217
		country.222
		#distar.58
		leviathans.2100
		#distar.5053
		pirate.70
	}
}

# This = Ship
on_ship_enabled = {
	events = {
	}
}

# Triggers when a Special Project to uplift a pre-sapient species is completed.
# Note that this will trigger once for each combination of planet & #original
# species (but for uplifting this should be only once).
#
# Scope = planet_event
# This = planet scope
# From = uplifted species (pre-modification)
on_uplift_completion = {
	events = {
		uplift.6010
		factions.1005
	}
}

# Planets starts being #terraformed
# This = Planet
# From = #terraforming country
on_terraforming_begun = {
	events = {
		#terra.5 # Remembers #original Planet Class
	}
}

# Planet has been #terraformed
# This = Planet
# From = #terraforming country
on_terraforming_complete = {
	events = {
		action.68
		syndaw.1320 # Planet of the Mechs achievement check
		#distar.197
		#terra.10 # #terraforming random events
		#toxoids.50
	}
}

# Planet has changed planet class in whatever way. Note that this is also called during galaxy creation in some places.
# This = Planet
on_planet_class_changed = {
	events = {
		aquatics.1005
		action.490
	}
}

# Planet has taken damage from orbital bombardment - Damage is applied daily
# This = Planet
# From = Bombarder
on_planet_bombarded = {
	events = {
		#crisis.200
		#crisis.1011
		#crisis.2040
		#crisis.2043
		#crisis.2475
		#crisis.2476
		marauder.103	# Marauder raid
		#graygoo.2
		#graygoo.555
		#origin.3003		# Tree of Life: Tree death
		awareness.125	# Pre-ftl world bombarded.
		origin.4025 	# Payback debt collectors chain | lost battle against the debt collectors
		preftl.10160	# Violation of Non-Interference Act by Bombardment.
		fircon.5034		# Bombarding Solarpunk
		preftl.10300	# Bombarding Pre-FTLs
	}
}

# Planet has reached 0 pops from orbital bombardment
# This = Planet
# From = Bombarder
on_planet_zero_pops = {
	events = {
		action.81
		#distar.1015
		preftl.201
	}
}

# Planet has reached 0 pops from collateral damage
# This = Planet
# From = Army owner
on_planet_zero_pops_ground_combat = {
}

# Pop is abducted by raiding stance
# This = Pop scope
# From = planet abducted from
on_pop_abducted = {
	events = {
		action.121
		action.122
	}
}


# Pop is enslaved
# This = Pop scope
# owner_species = { (species)
# owner = { owner_species = { (empire main species)
# owner = { (empire)
on_pop_enslaved = {
	events = {
	}
}


# Pop is released from slavery
# This = Pop scope
# owner_species = { (species)
# owner = { owner_species = { (empire main species)
# owner = { (empire)
on_pop_emancipated = {
	events = {
	}
}

# Pop is resettled
# From is previous planet
# planet = { } is new planet
on_pop_resettled = {
	events = {
		unrest.4350
	}
}

# Executed right before a country has established communications with another country. Does not fire if comms are established with establish_communications_no_message
# This = Country which established the communications
# From = Country which communications were established with
on_pre_communications_established = {
	events = {
		action.7
		action.19
	}
}

# Executed right after country has established communications with another country. Does not fire if comms are established with establish_communications_no_message
# This = Country which established the communications
# From = Country which communications were established with
on_post_communications_established = {
	events = {
		action.11
		first_contact.1050 #establish comms via first contact process
		anomaly.4016
		#anomaly.4092
		factions.11
		action.110 # get Galactic Community invitation
	}
}

# Executed right after country has established communications with another country. Always fires, even if comms are established with establish_communications_no_message
# This = Country which established the communications
# From = Country which communications were established with
on_post_communications_established_always_fire = {
}

# Serves to reveal presence to pre-ftl country
# This = Country which is revealing its presence
# From = Pre-ftl country
on_presence_revealed = {
	events = {
	}
}

# Executed just after country has established communications with another country
# This = Planet where the pop was bombed to death
# From = Country which is raining down fire and brimstone
on_pop_bombed_to_death = {
	events = {
	}
}

# Executed as a leader has died
# This = Country
# From = Leader
on_leader_death = {
	events = {
		pretender.1
		mandate.21
		akx.9330
		marauder.70
		marauder.711
	}
}

# Executed as a leader has been fired
# This = Country
# From = Leader
on_leader_fired = {
	events = {
		marauder.70
	}
}

# A leader leveled up.
# Scope = Country
# From = Leader
on_leader_level_up = {
	events = {
		leader.20 #gatekeeper for various events
	}
}

# Scope: Leader (after assignment)
on_leader_assigned = {
	events = {
		envoy_events.230
	}
}

# Scope: Leader (just before unassignment)
# Fires if a leader is unassigned from their position for any reason (including being assigned elsewhere)
on_leader_unassigned = {
}

# Executed as new ruler has been set
# This = Country
on_ruler_set = {
	events = {
		action.47	# Remove election-filler leaders when ruler is set
		mandate.1	# "ruler X elected, check situation log for their mandate"=
	}
}

# Executed when a ruler has been removed
# From = Previous Ruler
# This = Country
on_ruler_removed = {
	events = {
	}
}

# Executed when the ruler is ousted and goes back to their pre-ruler class
# From = Previous Ruler, already has the new class
# This = Country
on_ruler_back_to_pre_ruler_class = {
	events = {
		utopia.2511	# leader gets cyborg trait for their normal leader class
		utopia.2561	# leader gets synthetic trait for their normal leader class
		utopia.2653	# leader gets psionic trait for their normal leader class
		utopia.2654	# chosen leader gets chosen trait for their normal leader class
	}
}

# This = Planet
on_blocker_cleared = {
	events = {
		tutorial.16
		tutorial.160
		#ancrel.4030
		#terra.30 # Clear the #terraforming Blocker form #terra.25
		action.495 # Sets flag if blockers have been cleared on Wenkwort Artem.
	}
}

# A ship has started a new order
# Root = Ship
# From = Country
on_ship_order = {
	events = {
		tutorial.500
	}
}

# Executes after a policy has been changed
# use last_changed_policy to identify which policy it was
# This = Country
on_policy_changed = {
	events = {
		action.35
		syndaw.1300 # banning AI can cause Uprising
		syndaw.1305 # banning bot workers can cause Uprising
		leader.30 # banning AI will remove AI-dependent traits from leaders
		action.80 # banning AI will remove existing Synthetic Armies
		preftl.55 # Changing interferance policy with pre-FTLs should remove certain actions
		preftl.60 # Changing enlightenment policy with pre-FTLs should remove certain actions
	}
}

# Scope: Ship Event
# A ship has been built
# Root = Ship
# From = Planet
on_ship_built = {
	events = {
		tutorial.40
		tutorial.8
		tutorial.21
		tutorial.25
		mandate.144
		#crisis.2056
		fedev.9500
		origin.5060 #Broken Shackles - Built 1st Science Ship
	}
}

# A ship design has been finished
# Root = Country
on_ship_designed = {
	events = {
		tutorial.49
		tutorial.480
	}
}

# A ship has been upgraded
# Root = Ship
on_ship_upgraded = {
	events = {
		#crisis.2057
	}
}

# A war is beginning, executed for every country in the war.
# Root = Country
# From = War
on_war_beginning = {
	events = {
		action.41
		#diplomatic.1002
		factions.13
		#origin.29
		emperor.370
		origin.6080 # Fear of the Dark
		origin.5135 # Broken Shackles - War vs MSI
		origin.5146 # Broken Shackles - Second War vs MSI
		origin.5147 # Broken Shackles - War vs Slavers
		utopia.2661
		origin.4141 # Payback - BS joins war vs MSI
		action.640	# Nothing to See Here achievement		
	}
}

# A war has ended
# Root = Loser
# From = Main Winner
on_war_ended = {
	events = {
		fallen_empires.14
		utopia.2660
		origin.6256 # Fear of the Dark Seperatists made neutral
	}
}

# A country has been released through a peace deal in a war
# Root = new country
# From = country forcing the release
# FromFrom = country they are released from
# FromFromFrom = war
on_country_released_in_war = {
	events = {
		action.320
	}
}

# A country has increased the level of a tech, use last_increased_tech trigger to check tech and level.
# This = Country
on_tech_increased = {
	events = {
		tutorial.6 #any tech research
		tutorial.64 #Species modification
		tutorial.73 #Uplift
		tutorial.2115 #Mega-engineering
		tutorial.2120 #Orbital Ring
		tutorial.2125 #Quantum Catapult
		tutorial.2130 #Hyper Relay
		anomaly.1193
		action.56
		apoc.300
		#distar.12000
		#distar.1085
		#distar.10903
		#ancrel.4008
		aquatics.190 #Dragon Material Study
		aquatics.250 #Dragon Communications Study
		action.400 #Planetary Unification
		enclave.7005 # Salvager Introduction
		origin.4306 # Payback Out of Warranty chain - Genetic Healthcare
		origin.5500 # Broken Shackles - Upgrade Research Labs
		origin.5505 # Broken Shackles - Upgrade Admin Hub
		origin.4936 # Payback - Upgrade flagship
		tutorial.2500 # Tutorial - Cloaking Fields
		tutorial.2550 # Tutorial - Cloaking Detection
		fircon.26		# Cloak Observation Outposts upon researching cloaking.
		ancrel.9915 # Archaeotech - faking AI building faculty of archaeostudies
		ancrel.9920 # Archaeotech - faking AI building archaeo refinery
	}
}

# Triggers when a Special Project to apply a species modification template has completed.
# Note that this will trigger once for each combination of planet & #original species.
#
# This = Country
# From = Species ( Post Modification )
on_modification_complete = {
	events = {
		tutorial.65
		utopia.2508 # Handle leader traits after species modification
		utopia.6001 # Hive Mind species integration
	}
}

# A planets controller becomes a country not the same as the owner.
# Root = Planet
# From = Planet Owner
# FromFrom = Planet Controller (the one occupying)
on_planet_occupied = {
	events = {
		##crisis.2005
		##crisis.2215
		colony.9095
	}
}

# A fleet has successfully escaped from combat, executed right before the fleet enters FTL
# This = escaping fleet
# From = system escaped from
# FromFrom = system escaping to
on_emergency_ftl = {
	events = {
		nomad.97
		leviathans.1010
		leviathans.1013
		leviathans.1014
		leviathans.1020
		leviathans.1031
		leviathans.650
		leviathans.654
		awareness.130	# Fleets engages emergency FTL in pre-ftl system.
	}
	random_events = {
		310 = 0
		10 = leader.10
		10 = leader.12
		10 = leader.13
		10 = leader.14
		10 = leader.11
	}
}

#An army construction has been completed.
# This = Planet
# From = Army
on_army_recruited = {
	events = {
	}
}

#An army has been killed in ground combat
# This = owner
# From = army
# FromFrom = opponent
# FromFromFrom = planet
on_army_killed_in_combat = {
	events = {
		emperor.450
		necroids.15
		colony.9080
	}
}

#An army has ceased to exist for any other reason
# This = country
# From = army
on_army_killed_no_combat = {
	events = {
		emperor.450
		colony.9082
	}
}

#A building construction has been completed.
# This = Planet
on_building_complete = {
	events = {
		tutorial.14
		tutorial.140
		akx.10000
		#federations3.1000
		emperor.61
		btr_arlkah.01
	}
}

# A building construction has been queued.
# This = Planet
on_building_queued = {
	events = {
	}
}

# A building construction has been unqueued.
# This = Planet
on_building_unqueued = {
	events = {
	}
}

# A building construction has been completed, which is an upgrade of previous building.
# This = Planet
on_building_upgraded = {
	events = {
		plant.100
	}
}

# A building construction has demolished.
# This = Planet
on_building_demolished = {
	events = {
		emperor.62
	}
}

#A district construction has been completed.
# This = Planet
on_district_complete = {
	events = {
		mandate.180 # Districts built counter
	}
}

# A building construction has finished, replacing another building.
# This = Planet
on_building_replaced = {
	events = {
		akx.10000
		emperor.62
	}
}

# A building construction has been downgraded and replaced.
# This = Planet
on_building_downgraded = {
	events = {
	}
}

# A district construction has been queued.
# This = Planet
on_district_queued = {
	events = {
	}
}

# A district construction has been unqueued.
# This = Planet
on_district_unqueued = {
	events = {
	}
}

# A district construction has demolished.
# This = Planet
on_district_demolished = {
	events = {
		mandate.181
	}
}

# Tutorial level for a country has changed
# This = Country
on_tutorial_level_changed = {
	events = {
		tutorial.100 # Show what has been enabled / disabled
		tutorial.101 # Show what has been enabled / disabled
		tutorial.102 # Show what has been enabled / disabled
		tutorial.103 # Disable irrelevant tutorial stuff
	}
}

# A war has been won
# Root = Winner Warleader
# From = Loser Warleader
# FromFrom = War
on_war_won = {
	events = {
		action.37 # Default victory message
		action.48 # Country destroyed victory message
		action.32
		action.44
		#factions.205 # Imperialist Conquest
		action.150
		action.152
		action.154
		#action.156
		action.158
		syndaw.1200
		syndaw.1205
		syndaw.2000 # exterminator achievement
		action.475 # Fishing for Trouble achievement
		origin.5145 # Broken Shackles - War vs Slavers
		origin.4060 # Payback - defeated MSI
		origin.4071 # Payback - defeated the people who defeated the MSI
	}
}

# A war has been lost
# Root = Loser Warleader
# From = Winner Warleader
# FromFrom = War
on_war_lost = {
	events = {
		action.38 # Default defeat message
		action.151
		action.153
		action.155
		#action.157
		fallen_empires.2
		fallen_empires.12
		origin.5140 # Broken Shackles - War vs Slavers
	}
}

# A status quo has been signed
# Root = Actor
# From = Recipient
# FromFrom = Main Attacker
# FromFromFrom = Main Defender
# FromFromFromFrom = War
on_status_quo = {
	events = {
		action.39
		action.45
		origin.5141 #Broken Shackles vs MSI
	}
}

# A status quo has been signed, by force
# Root = Recipient
# From = Actor
# FromFrom = Main Attacker
# FromFromFrom = Main Defender
# FromFromFromFrom = War
on_status_quo_forced = {
	events = {
		action.39
		origin.5141 #Broken Shackles vs MSI
	}
}

# A pop has been added to the planet
# Root = pop
# From = planet
on_pop_added = {
	events = {
#		#origin.1
	}
}

# We changed a species right
# This = pop
on_pop_rights_change = {
	events = {
		utopia.90 # remove withdrawal when blissed
		utopia.91 # add withdrawal after bliss
	}
}

# A pop has finished growing
# This = Planet scope
# From = Country
# FromFrom = Pop
on_pop_grown = {
	events = {
	}
}

# A pop has finished assembling
# This = Planet scope
# From = Country
# FromFrom = Pop
on_pop_assembled = {
	events = {
		#crisis.2055
		#crisis.2312
		necroids.250 #makes zombie pops
	}
}

# A pop has finished purging
# This = Planet scope
# From = Country
# FromFrom = Pop
on_pop_purged = {
	events = {
		#crisis.202
		#crisis.2044
		# mandate.131
		action.21 # Opinion effect on other empires
		action.22 # Resources from Forced Labor/Processing/Chemical Processing
		action.95 # Purging the last Primitive Pop removes Culture Shock from the planet
		utopia.180 # Gain resources for fanatic purifiers civic
		utopia.181 # Gain resources for devouring swarm
		syndaw.1310 # Purging a bot can worsen AI Uprising situation.
		syndaw.1330 # Gain resources for exterminators
		#ancrel.4075
		necroids.5 # Necrophage Purge
		#crisis.4030 # Menace Objective - Purge Pops
		clones.30 #Clone Army Cleanup
	}
}

# A pop has finished declining (while not being purged)
# This = Planet scope
# From = Country
# FromFrom = Pop
on_pop_declined = {
	events = {
		clones.30 #Clone Army Cleanup
	}
}


# A pop has been displaced
# This = Planet scope
# From = Country
# FromFrom = Pop
on_pop_displaced = {
	events = {
		#crisis.4030 # Menace Objective - Purge Pops
		syndaw.1311
		refugees.3 # Should be LAST as it sometimes kills/invalidates the pop.
	}
}

# Initial rebels manage to take control of the planet, happens before the new owner is set, after the war is created.
# This = Rebel Country
# From = Planet
# FromFrom = War
on_rebels_take_planet = {
	events = {
		action.30
	}
}

# Initial rebels manage to take control of the planet, happens after the new owner is set, after the war is created.
# This = Rebel Country
# From = Planet
# FromFrom = War
on_rebels_take_planet_owner_switched = {
	events = {
		action.36
	}
}

#FromFrom = Former Owner
#From = Country scope (new owner, so invalid)
#This = Planet scope
on_planet_ownerless = {
	events = {
		action.85
		action.89
		clones.30 #Clone Army cleanup
		#terra.110 #Removes second home modifier
		#origin.3255 #Progenitor Hive cleanup
	}
}

#Fired whenever a new owner is set for a planet,
#be it after a war or through a trade
#FromFrom = Former Owner (if any)
#From = Country scope (new owner)
#This = Planet scope
on_planet_transfer = {
	events = {
		mega.205 # nuke invalid ongoing planetary political decisions
		#origin.3002 #ToL Tree death
		#origin.3004 #ToL Tree modifier
		clones.30 #Clone Army cleanup
		#terra.110 #Removes second home modifier
		#terra.115 # Restore second home modifier if the planet is the same planet class
		action.350 # Set Ascension Tier to 0.
		#origin.3225 #Progenitor Hive Missing
		#origin.3240 #Removing Progenitor Hive Modifier
		#toxoids.8024 #Recovering the keep
		preftl.2171 # Removes modifier for Singularity planet
		factions.15 # Remove Factions-specific modifiers
		necroids.10 # Hive Necrophage not auto purging their pops
	}
}

#Fired whenever a new owner is set for a planet, and the planet was aggressively conquered
#Fired in ADDITION to on_planet_transfer
#FromFrom = Former Owner
#From = Country scope (new owner)
#This = Planet scope
on_planet_conquer = {
	events = {
		action.42 # Land appropriation
		action.84
		action.89
		#crisis.5010 # #crisis Menace Objective: Conquer a Colony
	}
}

#You have changed the location of your capital. Also called when a country's capital is first set e.g. during galaxy creation (but then FROM is not set)
#this/root = new capital
#from = old capital
on_capital_changed = {
	events = {
		#origin.3205
	}
}

#From = Planet/Starbase/Megastructure scope
#This = Fleet scope
on_fleet_enter_orbit = {
	events = {
		fircon.2610 # Pre-FTL Observation Inteplanetary Flight
	}
}

#This = Federation leader
#From = Joining member
on_join_federation = {
	events = {
		fedev.499 # First Federation event
		origin.6050 # Fear of the Dark
		origin.5150 # Broken Shackles - Federation formed with MSI
		origin.5151 # Broken Shackles - Federation formed with generic slavers
	}
}

#This = Federation leader
#From = Leaving member
on_leave_federation = {
	events = {
		action.201 # achievement flagging and various cleanups
		federations3.2270 # modifier cleanup for spifed jointop
	}
}

#This = Country scope, federation leader
#From = Country to initiate the vote
on_federation_law_vote_succeed = {
	events = {
		fedvote.1
		federations3.2200 # Spiritualist Joint Operation start
	}
}

#This = Country scope, federation leader
#From = Country to initiate the vote
on_federation_law_vote_failed = {
	events = {
		fedvote.2
	}
}

#This = Country scope, federation leader
#From = Country to exclude from the federation elections
on_federation_leader_elections = {
	events = {
	}
}

#This = Country scope, new federation leader
#From = Previous leader (if still existing)
on_federation_new_leader = {
	events = {
		action.310
	}
}

#This = Country scope, federation leader
#From = Country to exclude from the federation psionicbattle
on_federation_leader_challenge = {
	events = {
		fedel.1	# Arena Combat
		fedel.500	# Psionc Battle
		fedel.900	# Bidding War (Golden Rule)
		fedel.1500	# Thesis Defense
		fedel.1800  # Conclave
	}
}

# A country is created via create_country or create_rebels
# This = created country
# From = root of context where create_country/create_rebels happens
on_country_created = {
	events = {
		preftl.30	# Add technological progression situation to pre-FTLs if the situation was not already created.
	}
}

#This = destroyed country
#From = optional, destroyer (country)
on_country_destroyed = {
	events = {
		custodian.100 # Custodian destroyed
		emperor.400 # Galactic Empire destroyed
		#crisis.210
		#crisis.1270
		action.61
		#crisis.2404
		war_in_heaven.17 #WiH - both AFEs dead - do not flip the order here!
		war_in_heaven.10 #WiH - first AFE dead by NAL - do not flip the order here
		#crisis.4020	# Menace Objective: Destroy Empire.
		emperor.63
		#origin.3250 # Remove Progenitor Deposit
		action.465 # Directive 67 achievement
		action.470 # Destroy People of Earth achievement
		action.480 # Zombie on my Lawn achievement
	}
}

# A Megastructure has been built
# Root = Country
# From = Megastructure
# FromFrom = System
# FromFromFrom = Fleet
on_megastructure_built = {
	events = {
		utopia.2000
		utopia.4000
		utopia.4100
		utopia.80
		utopia.4007 # alert message
		awareness.145 # Megastructure built or upgraded in pre-ftl system
	}
}

# A Megastructure has begun to be upgraded
# Root = Country
# From = Megastructure
# FromFrom = System
on_megastructure_upgrade_begin = {
	events = {
		utopia.2001
		utopia.29
	}
}

# A Megastructure has been upgraded
# Root = Country
# From = Megastructure
# FromFrom = System
on_megastructure_upgraded = {
	events = {
		utopia.2003
		utopia.2004
		utopia.4001
		utopia.4003
		utopia.4004
		utopia.4005
		utopia.4006 # alert message
		utopia.4101
		utopia.4103
		utopia.4104
		utopia.81
		utopia.83
		utopia.84
		utopia.85
		action.120 # alert message for contacts
		action.460 # Strange Mood achievement
		awareness.145 # Megastructure built or upgraded in pre-ftl system
	}
}

# X years has passed since a planet was colonized (won't trigger on empire homeworld)
on_colony_1_year_old = {
	events = {
		colony_mod.161 # Gatekeeper for modifier colony events
	}

	random_events = {
		300 = 0
		30 = factions.3000 # The Political Frontier
	}
}

on_colony_2_years_old = {
	events = {
		colony.5000 # The Lonely Bot (randomisation set in deposit placement)
	}
	random_events = {
		150 = 0

		30 = factions.3000 # The Political Frontier

		### Colony Events & Chains - 14
		3 = colony.1 # Migrating Forests
		3 = colony.50 # Sub#terranean Aliens
		3 = colony.1500 # Helpful Drones
		3 = colony.1520 # Mharin Kharin

		15 = colony.100 # Abandoned #terraforming
		6 = colony.180 # Asteroid Sighted
		3 = colony.2001 # Trouble in Paradise
		15 = colony.2005 # Submerged Cruiser

		15 = colony.2015 # Odd Factory
		15 = colony.2025 # What Separates Us
		10 = colony.3001 # Rogue Moon
		8 = colony.3005 # Dimensional Portal

		8 = colony.9000 #Turtle World
		8 = colony.9050 #Crystal Kraken
		8 = colony.9295 #Metallic Puddles

		15 = colony.2060 # Strange Mushrooms
		# 0 = colony.8099 # Insidious Ophidians

		### Archaeology Colony Sites
		#3 = ancrel.6049 # Blade of the Huntress
		#3 = ancrel.15010 # Mask of Transformation

		### Tomb Worlds - 8
		75 = colony.150 # Underground Vault
		75 = colony.155 # Nuclear Bomb
		75 = colony.160 # Particle Accelerator
		75 = colony.161 # Surviving Infrastructure
		75 = colony.162 # Space Station
		75 = colony.163 # Wasteland Radiation
		75 = colony.164 # Pacifist Movement
		75 = colony.170 # Orbital Debris

		### Federations
		3 = colony_fed.100 #Impossible Corrie
	}
}

on_colony_3_years_old = {
	events = {
	}
	random_events = {
		150 = 0

		### Colony Events & Chains - 14
		2 = colony.1 # Migrating Forests
		2 = colony.50 # Sub#terranean Aliens
		2 = colony.1500 # Helpful Drones
		2 = colony.1520 # Mharin Kharin
		10 = colony.8001 # Feral Overload

		10 = colony.100 # Abandoned #terraforming
		6 = colony.180 # Asteroid Sighted
		10 = colony.2001 # Trouble in Paradise
		10 = colony.2005 # Submerged Cruiser
		10 = colony.2010 # A Change of Heart
		10 = colony.2015 # Odd Factory
		10 = colony.2025 # What Separates Us
		10 = colony.2050 # Clerical Errors
		10 = colony.3001 # Rogue Moon
		5 = colony.3005 # Dimensional Portal
		3 = colony.9050 #Crystal Kraken

		### Archaeology Colony Sites
		#3 = ancrel.6049 # Blade of the Huntress

		### Tomb Worlds - 8
		50 = colony.150 # Underground Vault
		50 = colony.155 # Nuclear Bomb
		50 = colony.160 # Particle Accelerator
		50 = colony.161 # Surviving Infrastructure
		50 = colony.162 # Space Station
		50 = colony.163 # Wasteland Radiation
		50 = colony.164 # Pacifist Movement
		50 = colony.170 # Orbital Debris

		### Federations
		4 = colony_fed.100 #Impossible Corrie
	}
}

on_colony_4_years_old = {
	random_events = {
		150 = 0

		### Colony Events & Chains - 14
		1 = colony.2001 # Trouble in Paradise
		1 = colony.2010 # A Change of Heart
		2 = colony.9200 # Ancient Manufactorium
		3 = federations2.8 # Dancing Plague
		3 = situation.5 # Mysterious Labyrinth
		6 = situation.150 # Living Snow, higher weight because only for deserts

		### Archaeology Colony Sites
		#3 = ancrel.6049 # Blade of the Huntress
	}
}

on_colony_5_years_old = {
	events = {
		necroids.3
	}
	random_events = {
		150 = 0

		# Colony Events
		3 = colony.2010 # A Change of Heart
		3 = federations2.8 # Dancing Plague
		3 = situation.5 # Mysterious Labyrinth
		6 = situation.150 # Living Snow, higher weight because only for deserts

		### Archaeology Colony Sites
		#3 = ancrel.6049 # Blade of the Huntress
	}
}


on_colony_6_years_old = {
}

on_colony_7_years_old = {
}

on_colony_8_years_old = {
}

on_colony_9_years_old = {
}

on_colony_10_years_old = {
}

on_colony_25_years_old = {
	random_events = {
		95 = 0
		5 = situation.200 # Geomagnetic Storm
	}
}

# Fires for each planet every year (counting up from colonisation date, includes home planet)
on_colony_yearly_pulse = {
	events = {
		unrest.50 	#Start of Revolt Situation
		#toxoids.1 	#Increment pollution from Relentless Industrialists
		awareness.140 # Colony in pre-ftl system
	}
}

# Fires for each planet every 5 years (counting up from colonisation date, includes home planet)
on_colony_5_year_pulse = {
	events = {
		action.222 #Help for AI with Doomsday
		necroids.275 #Permanent Employment holding
	}
	random_events = {
		3 = manifesti.1
		97 = 0
	}
}

on_colony_10_year_pulse = {
	events = {
		necroids.1 #Apotheosis for non-necrophage pops to necrophage
	}
}

# a new leader is generated for an empire, to be available for recruitment
# scope: country, from: leader
on_leader_spawned = {
	events = {
		utopia.2509 # New Leaders Get Erudite Trait
		utopia.2510	# New Leaders Get Cyborg Trait
		utopia.2560	# New Leaders Get Synthetic Trait
		utopia.2651	# New Leaders Get Psionic Trait
		utopia.6000 # hive mind ruler gets hive mind trait to make them immortal
		syndaw.1050 # Machine Intelligence ruler gets trait
		#distar.173 # New Leaders Get Brainslug Trait
		clones.24 # New Leaders gain Clone Army Admiral traits
		action.405 # New Citizen Service Admirals and Generals are level 3
		specialist.400
		origin.6265 # Fear of the Dark Leader Spawned after Merge
	}
	random_events = {
		80 = 0
		20 = utopia.2601
	}
}

# called during empire initialization when starting a new game
# scope: country
empire_init_add_technologies = {
	events = {
		game_start.8
	}
}

# Called during empire initialization when starting a new game if has_secondary_species game rule is true.
# Called before empire_init_create_capital_pops.
# scope: planet
# from: founder species
# fromfrom: secondary species (if exists)
empire_init_capital_planet = {
	events = {
		game_start.12 # starting buildings, districts & pops
		# at this point the species might have changed (because we added traits), so FROMFROM might not be the secondary species anymore
	}
}

# called during empire initialization when starting a new game
# scope: country
empire_init_create_ships = {
	events = {
		#game_start.9
	}
}

# Called when an election starts
# scope: country
on_election_started = {
}

# Called when an election ends
# scope: country
on_election_ended = {
}

# Called upon entering FTL (on-action name scripted on the Bypass type)
# THIS = Fleet
# FROM = System jumping to
# FROMFROM = System jumped from
on_entering_gateway = {

}

# Called upon entering FTL (on-action name scripted on the Bypass type)
# THIS = Fleet
# FROM = System jumping to
# FROMFROM = System jumped from
on_entering_wormhole = {
	events = {
		achievement.4
	}
}

# Called upon entering FTL (on-action name scripted on the Bypass type)
# THIS = Fleet
# FROM = System jumping to
# FROMFROM = System jumped from
on_entering_shroud_tunnel = {
	events = {
		#origin.5610 # Teachers #origin - not player-facing
		#origin.5620 #Teachers of the Shroud #origin - enter Shroudwalker system
	}
	random_events = {
		74 = 0
		10 = enclave.6000 # Strange Manifestations - Leader Portrait change
		10 = enclave.6005 # Mind Wipe - Leader Trait addition
		5 = enclave.6020 # Dreamer's Wake
		1 = enclave.4250 #Psionic Breach - Psionic Avatar Appears
	}
}

# THIS = Ship
on_jump_drive = {
}

# Called upon a catapult jump being finished, per ship in catapulted fleet
# THIS = Ship
# FROM = System jumping to
# FROMFROM = System jumped from
on_ship_quantum_catapult = {
}

# Called upon a catapult jump being finished, per fleet
# THIS = Fleet
# FROM = System jumping to
# FROMFROM = System jumped from
on_fleet_quantum_catapult = {
	events = {
		action.425 # Yeet the Fleet
		action.430 # Into the Unknown
		over.30 # Quantic Ambush modifier
	}
}

# this = country
on_pirate_spawn = {
	events = {
		pirate.49
	}
}

# Called when a Starbase changes owner
# THIS = Ship (Starbase)
# FROM = Former Owner (Country)
on_starbase_transfer = {
	events = {
		action.223
		#distar.199 # Special Project Gatekeeper for Living Planet event chain
		#distar.254
	}
}


#
# Both the following on_action are called when fleet joined combat
# (The first one is called for the attacker fleet, the second one is called for the defending fleet)
#


# This = Aggressor Fleet
# From = Attacked Fleet
# FromFrom = Additional Attacked Fleet (if part of ongoing combat)
# FromFromFrom = Additional Attacked Fleet (if part of ongoing combat)
on_fleet_combat_joined_attacker = {
	events = {
		aquatics.300 # You attacked the Aquatic Dragon in first contact
		aquatics.310 # You attacked it while establishing comms with it (#origin endgame)
	}
}

# This = Attacked Fleet
# From = Aggressor Fleet
# FromFrom = Additional Attacked Fleet (if joining ongoing combat)
# FromFromFrom = Additional Attacked Fleet (if joining ongoing combat)
on_fleet_combat_joined_defender = {
	events = {
		cara.1001 # Caravaneer Fleet 1
		cara.2001 # Caravaneer Fleet 2
		cara.3001 # Caravaneer Fleet 3
		#ancrel.4025
		#galactic_features.550 # Factions set to hostile
	}
}

# From = system
# FromFrom = country (new owner)
# This = country (previous owner)
on_system_lost = {
	events = {
		mega.100 # Lost Consecrated World
		action.102 # Move Market Station
		action.200	# recalc strategic war data
		action.226 # remove mining/science/observation
		specialist.300
		origin.6280 # Seperatist Planet destroy themselves
	}
}

# From = system
# FromFrom = country (previous owner)
# This = country (new owner)
on_system_gained = {
	events = {
		#galactic_features.298 # Shielded World (Fallen Empire)
		action.200	# recalc strategic war data
		communications_spread.5 # Establish comms with any other countries in the system
		specialist.200
	}
}

# This = Pop
# From = Country (buyer)
# Fromfrom = Country (seller)
on_slave_sold_on_market = {
}

# This = Country
on_relic_activated = {
	events = {
		achievement.5 # Unlimited Power achievement
		action.650	# Galatron activated - unlocks CB to steal it
	}
}

# This = Fleet ( science vessel )
# From = Archaeological Site
on_arch_stage_finished = {

}

on_arch_site_finished = {
	events = {
		achievement.6 # Archaeologist achievement
		ancrel.15050 # Generate Minor Artifacts deposits
	}
	random_events = {
		90 = 0
		10 = federations3.2100 # Joint Operation: Genius Caeli
	}
}

# A galcom resolution passed
# this/root = proposer
# from = target if valid
# To find out which resolution it was, use last_resolution_changed trigger
on_resolution_passed = {
	events = {
		galcom.300 #Quid Pro Quo Tradition event
		galcom.305 #National Agenda Tradition event
		galcom.310 #Persistent Petitioners Tradition event
		galcom.315 #Persistent Petitioners Tradition event cleanup
		origin.4051 # Payback - Even The Score - Passed sanction
		origin.4053 # Payback - Even The Score - Passed Equal Standing or Non-Interference
		origin.4057 # Payback - Even The Score - Repealed a sanction
		origin.4058 # Payback - Even The Score - Repealed Equal Standing
		origin.4059 # Payback - Even The Score - Repealed Non-Interference
	}
}

# A galcom resolution failed to pass
# this/root = proposer
# from = target if valid
# To find out which resolution it was, use last_resolution_changed trigger
on_resolution_failed = {
}

# This = Country, first member added
on_galactic_community_formed = {
	events = {
		galcom.60
	}
}

on_galactic_council_established = {
	events = {
		galcom.50
	}
}

# This = Country
on_add_community_member = {
	events = {
		galcom.60
		#crisis.4116
		galcom.200
		origin.5079 #Communications between MSI and Broken Shackles through Galcom
		origin.4050  # Payback - Make Them Pay chain - Joined the galcom
	}
}

on_remove_community_member = {
	events = {
		galcom.61
		galcom.62
		#crisis.4115
		galcom.205
	}
}

on_add_to_council = {
	events = {
		emperor.95
	}
}

on_remove_from_council = {
}

on_join_alliance = {
}

on_leave_alliance = {
}

# This = Country who accepted the proposal
# From = Country who proposed the commercial pact
on_sign_commercial_pact = {
	events = {
		origin.5275 # Broken Shackles and MSI
	}
}

# This = Country who accepted the proposal
# From = Country who proposed the defensive pact
on_sign_defensive_pact = {
	events = {
		origin.5275 # Broken Shackles and MSI
	}
}

# This = Country who accepted the proposal
# From = Country who proposed the migration treaty
on_sign_migration_pact = {
	events = {
		origin.6200 # Fear of the Dark
		origin.5275 # Broken Shackles and MSI
	}
}

# This = Country who accepted the proposal
# From = Country who proposed the non-aggression pact
on_sign_non_aggression_pact = {
	events = {
		origin.5275 # Broken Shackles and MSI
	}
}

# This = Country who accepted the proposal
# From = Country who proposed the research agreement
on_sign_research_pact = {
	events = {
		origin.5275 # Broken Shackles and MSI
	}
}


# This = subject
# From = subject's overlord
on_becoming_subject = {
	events = {
		action.214 # Join Overlord's Federation if laws permit
		#crisis.5020 # Menace Objective - Vassalise Empires
		emperor.80 # New vassal joins Imperium
		action.441 # Force Subjects to join GalCom
		origin.6064 # Fear of the Dark became a subject
		origin.6070 # Fear of the Dark got a subject
	}
}

# fires when a country finishes being integrated
# This = overlord
# From = subject
on_subject_integrated = {
	events = {
		#crisis.2620 # BtC vassal integrated
		action.500 # Integrating Vassal gaining relics
	}
}

# fires when a country releases a sector as a vassal
# This = released vassal
# From = overlord
on_released_as_vassal = {
	events = {
		action.229 # Sort out their #origin
		action.230 # Convert released megacorps into oligarchies
		specialist.700
		#origin.3270 # Progenitor hive
	}
}

# This = empire trying to leave federation
# From = empire who declined (federation leader)
on_ask_to_leave_federation_declined = {
	events = {
		action.205
	}
}

#this = owner country, from = spynetwork scope
on_spynetwork_formed = {
	events = {
		espionage.1 #First Spy Network founded
		espionage.1 #First Spy Network founded - regular empires
		espionage.20 #First Spy Network founded - pre-FTL empires		
	}
}

# THIS = Country: Emperor
# FROM = Country added to council
on_add_to_imperial_council = {
}

# THIS = Country: Emperor
# FROM = Country removed from council
on_remove_from_imperial_council = {
	events = {
		action.635 #First aliens discovered
	}
}

#these three are fired from script, basically for modders who want to change how first contact works or add some extra flavour stories in without overwriting things
# THIS = first_contact
on_first_contact_started = {
}

#use for custom country types that need first contact paths
# THIS = first_contact
on_first_contact_stage_1_no_path = {
}

# THIS = first_contact
on_first_contact_generic_stage_2 = {
	events = {
		tutorial.2000 #"Conducting First Contact"
	}
}

# THIS = Planet: Branch office planet
# FROM = Country: Branch office owner
on_branch_office_established = {
	events = {
	}
}

# THIS = Planet: Branch office planet
# FROM = Country: Branch office owner
on_branch_office_closed = {
	events = {
		emperor.62
	}
}

# THIS = System: system being occupied
# FROM = Country: Conqueror of the system
# FROMFROM = Country: #original owner of the system
on_system_occupied = {
	events = {
		#crisis.6100
	}
}

# THIS = System: system whos controller has changed
# FROM = Country: New controller of the system
# FROMFROM = Country: Old controller of the system
on_system_controller_changed = {
	events = {
		action.300
	}
}

# THIS = System: system being returned from occupation
# FROM = Country: Previous owner of the system
# FROMFROM = Country: Occupier of the system
on_system_returned = {
	events = {
		action.301
	}
}

# A planet has been rendered ownerless, it has an orbital ring or similar, though. The orbital ring is still there, but is about to be deleted
# this = starbase
# from = planet
# fromfrom = old owner
on_orbital_defense_planet_ownerless = {
	events = {
		action.503
	}
}

# THIS = Espionage operation
# FROM = Operation target
on_operation_chapter_finished = {
}

# THIS = Espionage operation
# FROM = Operation target
on_operation_finished = {
}

# THIS = Espionage operation
on_operation_cancelled = {
	events = {
		action.330
	}
}

# Executed just as country is changing its government, before the new one is applied
# THIS = country
on_pre_government_changed = {
	events = {
	}
}

# Executed just as country is changing its government, after the new one is applied
# THIS = country
on_post_government_changed = {
	events = {
		action.410 # When picking up citizen service your leaders in the pool will gain 2 levels.
		specialist.1000
		action.445 # Recalculate divided patronage modifier on government reform.
		action.455 # Unlock Memorialist buildings for hive-minds that reform into the civic.
	}
}

# Executed when the Custodian's term ends
# THIS = country
on_custodian_term_ends = {
	events = {
		custodian.10
	}
}

# Executed when a country picks any tradition (including starters and finishers)
# THIS = country
on_tradition_picked = {
	events = {
		specialist.800
	}
}

# Executed when a country picks an ascension perk
# THIS = country
on_ascension_perk_picked = {
	events = {
		aquatics.120
	}
}

# Executed when a megastructure has a new owner
# this = new owner
# from = megastructure
# fromfrom = old owner (if existing)
on_megastructure_change_owner = {
	events = {
		#crisis.6200	#Aetherophasic Engine captured by non-#crisis
	}
}

# Executed when a megastructure is rendered ownerless
# this = solar system containing megastructure
# from = megastructure
# fromfrom = old owner (if existing)
on_megastructure_ownerless = {
}

on_crystalline_empire_task = {
	random_events = {
		#10 = central.50 # Refugees from the Empire
		#10 = central.60 # Secret Techniques
		#10 = central.70 # Curious Scientist
	}
}

#Fired from destroy_star_system scripted effect
#This = system
#From = destroyer (if using a star cracker)
on_destroy_star_system = {
	events = {
		#crisis.220
		awareness.155 # Neighbouring system has pre-ftls
	}
}

on_admirals_bickering_event_chain = {
	random_events = {
		10 = subject.1120
		10 = subject.1125
		10 = subject.1130
		10 = subject.1135
		10 = subject.1140
	}
}

#Executed when an empire wishes to turn a mercenary fleet into a Mercenary enclave
#This = fleet
on_establish_mercenary_enclave = {
	events = {
		enclave.2
	}
}

# Fired when a science ship succesfully analyzed or scavenged debris
# this = country
# from = debris
# fromfrom = controller of destroyed ship
on_debris_researched = {
	events = {
	}
}

# Fired when a science ship succesfully analyzed or scavenged debris
# this = country
# from = debris
# fromfrom = controller of destroyed ship
on_debris_scavenged = {
	events = {
	}
}

# Fired when a science ship succesfully analyzed or scavenged debris
# this = country
# from = debris
# fromfrom = controller of destroyed ship
on_debris_scavenged_and_researched = {
	events = {
		#toxoids.700
	}
}

# Fired when a subject has started converting to a specialist type
# This = agreement
# owner = overlord
# target = subject
on_specialist_subject_conversion_started = {
	events = {
		action.450
	}
}

# Fired when a subject has finished converting to a specialist type
# This = agreement
# owner = overlord
# target = subject
on_specialist_subject_conversion_finished = {
	events = {
		action.451
	}
}

# Fired when a subject specialist conversion has been aborted
# This = agreement
# owner = overlord
# target = subject
on_specialist_subject_conversion_aborted = {
	events = {
		action.451
	}
}

# Executed when a two capitals get connected through relay network
# THIS = Country: Owner
# FROM = Country: Other
on_capitals_connected = {
	events = {
		over.100 # Hyper Relay Connection
	}
}

# Fired when a change to an existing subject agreement has been accepted
# This = agreement
# owner = overlord
# target = subject
on_agreement_change_accepted = {
	events = {
		action.435 # Fine Print achievement
		action.440 # Force Subjects to join GalCom
		action.442 # Force Subjects to join Federation, on Agreement Change.
		action.443 # Force Subjects to join Federation, on Agreement Change.
	}
}

on_shroudwalker_divination_visitors_situation = {
	random_events = {
		1 = enclave.4150 # "Joint Operation: Dismembered Cloud"
		1 = enclave.4151 # "A Most Irritating Envoy"
		1 = enclave.5070 # "Rogue Shaman"
		1 = enclave.5085 # "The Great Schism"
		#1 = enclave.5165 # Brain Slug - #distar.170
		1 = enclave.5170 # The Doorway - colony.3005
		1 = enclave.5175 # Atmospheric Ecosystem - colony.300
		1 = enclave.5190 # Hero Redivivus
		1 = enclave.5560 # Wayward Pilgrims
	}
}

on_shroudwalker_divination_locus_situation = {
	random_events = {
		1 = enclave.5000 # "All Too Lucid"
		1 = enclave.5050 # "Shrouded"
		1 = enclave.5500 # "Shattered Frontier" (> 50% progress)
		1 = enclave.5125 # "Floating Parts" (> 10% progress)
		1 = enclave.5150 # Lightshow - anomaly.235 (>10% progress)
		1 = enclave.5155 # Grimacing - anomaly.230 (>10% progress)
		1 = enclave.5160 # Improbable Teapot - anomaly.4060
		1 = enclave.5185 # Terminal Orbit - anomaly.2570 (>15% progress)
		1 = enclave.5180 # The Color of Science - anomaly.6740 (>15% progress)
	}
}

on_shroudwalker_insight_situation_finish = {
	random_events = {
		40 = enclave.7060 # Asset
		25 = enclave.7065 # Spy Network
		25 = enclave.7070 # Intel
		10 = enclave.7075 # Shroud is busy right now, come back later (Nothing)
	}
}


# Fired when a fleet activates cloaking
# This = Fleet
on_cloaking_activated = {
	events = {
		fircon.15 #Predatory Tactics Activate
	}
}

# Fired when cloaking is deactivated for a fleet (voluntarily or involuntarily)
# This = Fleet
on_cloaking_deactivated = {
	events = {
		fircon.16 #Predatory Tactics Deactivate
		awareness.100 # Decloaked in pre-ftl system.
	}
}

# Fired when a pre-FTL's awareness level increases (by uncloaking ships or using add/set_awareness in events)
# This = PreFTL Country
# From = Observing Country
on_awareness_level_increase = {
	events = {
		awareness.160 # Increased awareness to next threshold, fire a notification for any observer.
		awareness.170 # Sets observation mission to none when you reach full awareness
		awareness.900 # Establish communications if they reach full awareness
	}
}

# Fired when a pre-FTL's awareness level decreases (by uncloaking ships or using add/set_awareness in events)
# This = PreFTL Country
# From = Observing Country
on_awareness_level_decrease = {
	events = {
		awareness.165 # Decreased awareness to previous threshold, fire a notification for any observer.
	}
}

# Chance of pre-FTL civilizations to shift their ethics
on_pre_ftl_pop_ethic_shift = {
	random_events = {
		500 = 0
		5 = observation.3138	# Societal Shift towards Authoritarian
		5 = observation.3140	# Societal Shift towards Egalitarian
		5 = observation.3142	# Societal Shift towards Xenophobe
		5 = observation.3144	# Societal Shift towards Xenophile
		5 = observation.3146	# Societal Shift towards Militarist
		5 = observation.3148	# Societal Shift towards Pacifist
		5 = observation.3150	# Societal Shift towards Spiritualist
		5 = observation.3152	# Societal Shift towards Materialist
	}
}

# Fired when a country attacks another country
#This = attacked country
#From = attacker country
on_country_attacked = {
	events = {
		observation.3200 # Clear relations with pre-ftl under observation
	}
}